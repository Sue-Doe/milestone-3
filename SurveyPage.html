<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Car Rental Survey</title>
    <style>
        /* Basic reset */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        /* Set html and body height to 100% for vertical centering */
        html, body {
            height: 100%;
        }

        body {
            display: flex;
            justify-content: center; /* Horizontal centering */
            align-items: center;     /* Vertical centering */
            font-family: Arial, sans-serif;
            background-color: #f9f3e5; /* Beige background */
            padding: 20px;
        }

        /* Survey container */
        .survey-container {
            max-width: 1000px; /* Max width for the container */
            width: 100%;
            background: #f9f3e5; /* Beige background */
            border: 3px solid #8b0000; /* Red border */
            border-radius: 8px;
            position: relative; /* For positioning child elements */
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            margin: 20px;
            transition: height 0.3s ease; /* Smooth transition for height changes */
        }

        /* Survey steps */
        .survey-step {
            display: none;
            padding: 60px 40px 40px; /* Added padding */
        }

        .survey-step.active {
            display: block;
        }

        /* Skip button at top right corner */
        .skip-button {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            border: none;
            background: #8b0000; /* Red background */
            color: #fff;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s, transform 0.3s;
            z-index: 10; /* Ensure the skip button stays on top */
        }

        .skip-button:hover {
            background: #a60000; /* Darker red on hover */
            transform: scale(1.05); /* Slight zoom on hover */
        }

        /* Question styles */
        .question {
            margin-bottom: 20px;
        }

        .question h2 {
            margin-bottom: 10px;
            color: #8b0000; /* Red text for headings */
        }

        /* Intro step styles */
        .intro-content {
            text-align: center;
            color: #333;
        }

        .intro-content h1 {
            color: #8b0000; /* Red text for the main heading */
            font-size: 36px;
            margin-bottom: 20px;
        }

        .intro-content p {
            font-size: 20px;
            margin-bottom: 40px;
            line-height: 1.5;
        }

        /* Option styles */
        .options {
            display: flex;
            flex-wrap: wrap;
            gap: 20px; /* Increased gap for better spacing */
            justify-content: center; /* Center options horizontally */
        }

        .option {
            flex: 1 1 calc(25% - 40px); /* Adjusted to show more options per row */
            background: #e0d9c8; /* Lighter beige for options */
            padding: 20px;
            text-align: center;
            border-radius: 5px;
            cursor: pointer;
            position: relative;
            transition: transform 0.3s, background 0.3s;
            border: 2px solid #8b0000; /* Red border */
            max-width: 250px;
        }

        .option:hover {
            transform: scale(1.05);
            background: #d3c7b3;
        }

        .option.selected {
            background: #8b0000;
            color: #fff;
        }

        /* Option text */
        .option span {
            display: block;
            margin-top: 10px;
            font-size: 16px;
            font-weight: bold;
        }

        /* Navigation buttons */
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .navigation button {
            padding: 10px 20px;
            border: none;
            background: #8b0000; /* Red background for buttons */
            color: #fff;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s, transform 0.3s;
        }

        .navigation button:hover {
            background: #a60000;
            transform: scale(1.1);
        }

        /* Start button */
        .start-button {
            display: block;
            width: 100%;
            padding: 15px;
            background: #8b0000;
            color: #fff;
            border: none;
            border-radius: 0 0 8px 8px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: background 0.3s, transform 0.3s;
        }

        .start-button:hover {
            background: #a60000;
            transform: scale(1.05);
        }

        /* Graphics */
        .option img {
            max-width: 100%;
            height: auto;
            margin-bottom: 10px;
            border-radius: 5px;
        }

        /* Input field styles */
        .options input[type="text"] {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            border: 2px solid #8b0000;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        /* Responsive adjustments */
        @media (max-width: 1200px) {
            .option {
                flex: 1 1 calc(33.333% - 40px);
            }
        }

        @media (max-width: 900px) {
            .option {
                flex: 1 1 calc(50% - 40px);
            }
        }

        @media (max-width: 600px) {
            .option {
                flex: 1 1 calc(100% - 40px);
            }

            .intro-content h1 {
                font-size: 28px;
            }

            .intro-content p {
                font-size: 18px;
            }
        }
    </style>
</head>
<body>

<div class="survey-container" id="surveyContainer">
    <!-- Skip Button -->
    <button class="skip-button" onclick="skipSurvey()">Skip</button>

    <!-- Start Survey Page -->
    <div class="survey-step active" id="step-intro">
        <div class="intro-content">
            <h1>Discover Your Ideal Rental Car</h1>
            <p>Embark on a journey to find the perfect vehicle tailored to your needs. Let's get started!</p>
        </div>
        <button class="start-button" onclick="nextStep()">Start Survey</button>
    </div>

    <!-- Question 1 -->
    <div class="survey-step" id="step-1">
        <div class="question">
            <h2>1. What type of car are you looking for?</h2>
        </div>
        <div class="options">
            <!-- Option elements with surveyimages -->
            <div class="option" onclick="selectOption(this, 'carType', 'Sedan')">
                <img src="surveyimages/sedan.png" alt="Sedan">
                <span>Sedan</span>
            </div>
            <div class="option" onclick="selectOption(this, 'carType', 'SUV')">
                <img src="surveyimages/suv.png" alt="SUV">
                <span>SUV</span>
            </div>
            <div class="option" onclick="selectOption(this, 'carType', 'Convertible')">
                <img src="surveyimages/convertible.png" alt="Convertible">
                <span>Convertible</span>
            </div>
            <div class="option" onclick="selectOption(this, 'carType', 'Van')">
                <img src="surveyimages/van.png" alt="Van">
                <span>Van</span>
            </div>
            <div class="option" onclick="selectOption(this, 'carType', 'Truck')">
                <img src="surveyimages/truck.png" alt="Truck">
                <span>Truck</span>
            </div>
            <div class="option" onclick="selectOption(this, 'carType', 'Coupe')">
                <img src="surveyimages/coupe.png" alt="Coupe">
                <span>Coupe</span>
            </div>
            <div class="option" onclick="selectOption(this, 'carType', 'Hatchback')">
                <img src="surveyimages/hatchback.png" alt="Hatchback">
                <span>Hatchback</span>
            </div>
            <div class="option" onclick="selectOption(this, 'carType', 'Luxury')">
                <img src="surveyimages/luxury.png" alt="Luxury">
                <span>Luxury</span>
            </div>
        </div>
        <div class="navigation">
            <button class="back-button" onclick="prevStep()">Back</button>
            <button class="next-button" onclick="nextStep()">Next</button>
        </div>
    </div>

    <!-- Question 2 -->
    <div class="survey-step" id="step-2">
        <div class="question">
            <h2>2. What is your budget per day for renting a car?</h2>
        </div>
        <div class="options">
            <div class="option" onclick="selectOption(this, 'budget', 'Less than $50')">
                <span>Less than $50</span>
            </div>
            <div class="option" onclick="selectOption(this, 'budget', '$50 - $100')">
                <span>$50 - $100</span>
            </div>
            <div class="option" onclick="selectOption(this, 'budget', '$101 - $150')">
                <span>$101 - $150</span>
            </div>
            <div class="option" onclick="selectOption(this, 'budget', '$151 - $200')">
                <span>$151 - $200</span>
            </div>
            <div class="option" onclick="selectOption(this, 'budget', 'Over $200')">
                <span>Over $200</span>
            </div>
        </div>
        <div class="navigation">
            <button class="back-button" onclick="prevStep()">Back</button>
            <button class="next-button" onclick="nextStep()">Next</button>
        </div>
    </div>

    <!-- Question 3 -->
    <div class="survey-step" id="step-3">
        <div class="question">
            <h2>3. How many passengers will be traveling?</h2>
        </div>
        <div class="options">
            <div class="option" onclick="selectOption(this, 'passengers', '1-2')">
                <span>1-2</span>
            </div>
            <div class="option" onclick="selectOption(this, 'passengers', '3-5')">
                <span>3-5</span>
            </div>
            <div class="option" onclick="selectOption(this, 'passengers', '6-8')">
                <span>6-8</span>
            </div>
            <div class="option" onclick="selectOption(this, 'passengers', '9 or more')">
                <span>9 or more</span>
            </div>
        </div>
        <div class="navigation">
            <button class="back-button" onclick="prevStep()">Back</button>
            <button class="next-button" onclick="nextStep()">Next</button>
        </div>
    </div>

    <!-- Question 4 -->
    <div class="survey-step" id="step-4">
        <div class="question">
            <h2>4. Which transmission type do you prefer?</h2>
        </div>
        <div class="options">
            <div class="option" onclick="selectOption(this, 'transmission', 'Automatic')">
                <span>Automatic</span>
            </div>
            <div class="option" onclick="selectOption(this, 'transmission', 'Manual')">
                <span>Manual</span>
            </div>
            <div class="option" onclick="selectOption(this, 'transmission', 'No Preference')">
                <span>No Preference</span>
            </div>
        </div>
        <div class="navigation">
            <button class="back-button" onclick="prevStep()">Back</button>
            <button class="next-button" onclick="nextStep()">Next</button>
        </div>
    </div>

    <!-- Question 5 -->
    <div class="survey-step" id="step-5">
        <div class="question">
            <h2>5. What fuel type do you prefer?</h2>
        </div>
        <div class="options">
            <div class="option" onclick="selectOption(this, 'fuel', 'Gasoline')">
                <span>Gasoline</span>
            </div>
            <div class="option" onclick="selectOption(this, 'fuel', 'Diesel')">
                <span>Diesel</span>
            </div>
            <div class="option" onclick="selectOption(this, 'fuel', 'Electric')">
                <span>Electric</span>
            </div>
            <div class="option" onclick="selectOption(this, 'fuel', 'Hybrid')">
                <span>Hybrid</span>
            </div>
            <div class="option" onclick="selectOption(this, 'fuel', 'No Preference')">
                <span>No Preference</span>
            </div>
        </div>
        <div class="navigation">
            <button class="back-button" onclick="prevStep()">Back</button>
            <button class="next-button" onclick="nextStep()">Next</button>
        </div>
    </div>

    <!-- Question 6 -->
    <div class="survey-step" id="step-6">
        <div class="question">
            <h2>6. Which special features are important to you? (Select all that apply)</h2>
        </div>
        <div class="options">
            <div class="option" onclick="toggleOption(this, 'features', 'GPS Navigation')">
                <span>GPS Navigation</span>
            </div>
            <div class="option" onclick="toggleOption(this, 'features', 'Bluetooth Connectivity')">
                <span>Bluetooth Connectivity</span>
            </div>
            <div class="option" onclick="toggleOption(this, 'features', 'Child Seat')">
                <span>Child Seat</span>
            </div>
            <div class="option" onclick="toggleOption(this, 'features', 'Heated Seats')">
                <span>Heated Seats</span>
            </div>
            <div class="option" onclick="toggleOption(this, 'features', 'Sunroof/Moonroof')">
                <span>Sunroof/Moonroof</span>
            </div>
            <div class="option" onclick="toggleOption(this, 'features', 'All-Wheel Drive')">
                <span>All-Wheel Drive</span>
            </div>
            <div class="option" onclick="toggleOption(this, 'features', 'Backup Camera')">
                <span>Backup Camera</span>
            </div>
            <div class="option" onclick="toggleOption(this, 'features', 'Cruise Control')">
                <span>Cruise Control</span>
            </div>
        </div>
        <div class="navigation">
            <button class="back-button" onclick="prevStep()">Back</button>
            <button class="next-button" onclick="nextStep()">Next</button>
        </div>
    </div>

    <!-- Question 7 -->
    <div class="survey-step" id="step-7">
        <div class="question">
            <h2>7. What will be the primary use of the rental car?</h2>
        </div>
        <div class="options">
            <div class="option" onclick="selectOption(this, 'use', 'Business Travel')">
                <span>Business Travel</span>
            </div>
            <div class="option" onclick="selectOption(this, 'use', 'Leisure/Vacation')">
                <span>Leisure/Vacation</span>
            </div>
            <div class="option" onclick="selectOption(this, 'use', 'Moving/Relocation')">
                <span>Moving/Relocation</span>
            </div>
            <div class="option" onclick="selectOption(this, 'use', 'Road Trip')">
                <span>Road Trip</span>
            </div>
            <div class="option" onclick="selectOption(this, 'use', 'Special Occasion/Event')">
                <span>Special Occasion/Event</span>
            </div>
        </div>
        <div class="navigation">
            <button class="back-button" onclick="prevStep()">Back</button>
            <button class="next-button" onclick="nextStep()">Next</button>
        </div>
    </div>

    <!-- Question 8 -->
    <div class="survey-step" id="step-8">
        <div class="question">
            <h2>8. Do you need any accessibility features?</h2>
        </div>
        <div class="options">
            <div class="option" onclick="selectOption(this, 'accessibility', 'Wheelchair Accessibility')">
                <span>Wheelchair Accessibility</span>
            </div>
            <div class="option" onclick="selectOption(this, 'accessibility', 'Hand Controls')">
                <span>Hand Controls</span>
            </div>
            <div class="option" onclick="selectOption(this, 'accessibility', 'Elderly Assistance Features')">
                <span>Elderly Assistance Features</span>
            </div>
            <div class="option" onclick="selectOption(this, 'accessibility', 'No Accessibility Features Needed')">
                <span>No Accessibility Features Needed</span>
            </div>
        </div>
        <div class="navigation">
            <button class="back-button" onclick="prevStep()">Back</button>
            <button class="next-button" onclick="nextStep()">Next</button>
        </div>
    </div>

    <!-- Question 9 -->
    <div class="survey-step" id="step-9">
        <div class="question">
            <h2>9. What is your preferred rental duration?</h2>
        </div>
        <div class="options">
            <div class="option" onclick="selectOption(this, 'duration', 'Less than a day')">
                <span>Less than a day</span>
            </div>
            <div class="option" onclick="selectOption(this, 'duration', '1-2 days')">
                <span>1-2 days</span>
            </div>
            <div class="option" onclick="selectOption(this, 'duration', '3-7 days')">
                <span>3-7 days</span>
            </div>
            <div class="option" onclick="selectOption(this, 'duration', '1-2 weeks')">
                <span>1-2 weeks</span>
            </div>
            <div class="option" onclick="selectOption(this, 'duration', 'More than 2 weeks')">
                <span>More than 2 weeks</span>
            </div>
        </div>
        <div class="navigation">
            <button class="back-button" onclick="prevStep()">Back</button>
            <button class="next-button" onclick="nextStep()">Finish</button>
        </div>
    </div>

    <!-- Question 10 -->
    <div class="survey-step" id="step-10">
        <div class="question">
            <h2>10. Do you have a preferred car brand or model?</h2>
        </div>
        <div class="options">
            <input type="text" id="preferredBrand" placeholder="Enter brand or model" oninput="saveInput('preferredBrand', this.value)">
        </div>
        <div class="navigation">
            <button class="back-button" onclick="prevStep()">Back</button>
            <button class="next-button" onclick="nextStep()">Finish</button>
        </div>
    </div>

    <!-- Survey Completion -->
    <div class="survey-step" id="step-complete">
        <h1 style="color: #8b0000;">Thank You!</h1>
        <p>Your preferences have been recorded.</p>
        <button class="start-button" onclick="submitSurvey()">View Car Options</button>
    </div>
</div>

<script>
    let currentStep = 0;
    const steps = document.querySelectorAll('.survey-step');
    const surveyContainer = document.getElementById('surveyContainer');
    const surveyData = {
        features: []
    };

    function updateSurveyHeight() {
        const activeStep = document.querySelector('.survey-step.active');
        if (activeStep) {
            const stepHeight = activeStep.scrollHeight;
            surveyContainer.style.height = `${stepHeight + 40}px`; // Add padding for better spacing
        }
    }

    function showStep(step) {
        steps.forEach((s, index) => {
            s.classList.toggle('active', index === step);
        });
        currentStep = step;
        updateSurveyHeight();
    }

    function nextStep() {
        if (currentStep < steps.length - 1) {
            showStep(currentStep + 1);
        } else {
            // If it's the last step, show the completion step
            showStep(steps.length - 1);
        }
    }

    function prevStep() {
        if (currentStep > 0) {
            showStep(currentStep - 1);
        }
    }

    function selectOption(element, questionKey, value) {
        const options = element.parentElement.querySelectorAll('.option');
        options.forEach(opt => opt.classList.remove('selected'));

        element.classList.add('selected');
        surveyData[questionKey] = value;

        console.log(surveyData);
    }

    function toggleOption(element, questionKey, value) {
        element.classList.toggle('selected');

        if (!surveyData[questionKey]) {
            surveyData[questionKey] = [];
        }

        if (element.classList.contains('selected')) {
            surveyData[questionKey].push(value);
        } else {
            surveyData[questionKey] = surveyData[questionKey].filter(item => item !== value);
        }

        console.log(surveyData);
    }

    function saveInput(questionKey, value) {
        surveyData[questionKey] = value;
        console.log(surveyData);
    }

    function skipSurvey() {
        window.location.href = "car-options.html"; // Redirect to the car options page
    }

    function submitSurvey() {
        // Process the surveyData object as needed
        console.log("Survey completed:", surveyData);
        window.location.href = "car-options.html";
    }

    // Initialize the height adjustment
    updateSurveyHeight();
    window.addEventListener('resize', updateSurveyHeight); // Recalculate height on window resize
</script>

</body>
</html>
